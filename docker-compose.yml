version: '3'
services:
  db:
    image: mysql:5.7.29
    restart: unless-stopped
    environment:
      MYSQL_DATABASE: database
      MYSQL_USER: user
      MYSQL_PASSWORD: password
      MYSQL_ROOT_PASSWORD: root_password
      TZ: Africa/Tunis
    volumes:
      - ./volumes/db_data:/var/lib/mysql
  wp:
    build: ./
    depends_on:
      - db
    restart: unless-stopped
    links:
      - db:mysql
    volumes:
      - ./volumes/public_html:/web_data/public_html
    environment:
      FILE_MANAGER_USER: wordpress
      FILE_MANAGER_PASSWORD: $$2y$$10$$eIf87ey24XoM.BcH0oKa3uo7z6cR1RVG1J3JK1emuweTJKwx0uAlu
      TZ: Africa/Tunis
    ports:
      - 80:80